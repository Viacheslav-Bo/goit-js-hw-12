{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport function getImagesByQuery(query) {\n  return axios.get('https://pixabay.com/api/', {\n    params: {\n      key: '53154523-05709ccc1510dd918919f2375',\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n    },\n  });\n}\n","const loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n// ===========================================================\n// РЕНДЕР\nexport function createGallery(images) {\n  return images\n    .map(function (img) {\n      const {\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      } = img;\n      return `<li class=\"gallery-item\">\n            <div class=\"gallery-img-container\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n              <img class=\"image\" src=\"${webformatURL}\" alt=\"${tags}\" data-source=\"${largeImageURL}\"  /></a>\n            </div>\n            <div class=\"desc-container\">\n              <ul class=\"desc-list\">\n              <li class=\"Likes\">Likes: <span>${likes}</span></li>\n              <li class=\"Views\">Views: <span>${views}</span></li>\n              <li class=\"Comments\">Comments: <span>${comments}</span></li>\n              <li class=\"Downloads\">Downloads: <span>${downloads}</span></li>\n              </ul>\n            </div>\n          </li>`;\n    })\n    .join('');\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.classList.add('is-shown');\n}\n\nexport function hideLoader() {\n  loader.classList.remove('is-shown');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n\n// ===================================================================\n// БАЗА\nconst form = document.querySelector('.form');\nconst submitBtn = document.querySelector('button[type=submit');\nconst gallery = document.querySelector('.gallery');\n\nlet lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n// ===================================================================\n// ПОДІЯ інпут\nform.addEventListener('input', evt => {\n  const searchWord = evt.target.value.trim();\n  submitBtn.disabled = !searchWord;\n  if (!searchWord) {\n    iziToast.show({\n      message: 'Please fill in the field to begin your search.',\n      position: 'topRight',\n      backgroundColor: 'rgb(255, 215, 163)',\n    });\n  }\n});\n// ===================================================================\n// ПОДІЯ сабміт\n\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n  showLoader();\n  const searchWord = document\n    .querySelector('input[name=\"search-text\"]')\n    .value.trim();\n  if (!searchWord) {\n    return;\n  }\n\n  clearGallery();\n\n  function makeMarkup(response) {\n    if (response.data.hits.length === 0) {\n      iziToast.show({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n        backgroundColor: 'rgb(255, 215, 163)',\n      });\n\n      hideLoader();\n\n      return;\n    }\n\n    const markup = createGallery(response.data.hits);\n    gallery.insertAdjacentHTML('afterbegin', markup);\n\n    lightbox.refresh();\n    hideLoader();\n  }\n\n  getImagesByQuery(searchWord)\n    .then(makeMarkup)\n\n    .catch(err => {\n      alert('Упс! Щось пішло не так');\n      console.error(err);\n    });\n\n  evt.target.reset();\n  submitBtn.disabled = true;\n});\n"],"names":["getImagesByQuery","query","axios","loader","gallery","createGallery","images","img","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","submitBtn","lightbox","SimpleLightbox","evt","searchWord","iziToast","makeMarkup","response","markup","err"],"mappings":"owBAEO,SAASA,EAAiBC,EAAO,CACtC,OAAOC,EAAM,IAAI,2BAA4B,CAC3C,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACb,CACL,CAAG,CACH,CCZA,MAAME,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAG1C,SAASC,EAAcC,EAAQ,CACpC,OAAOA,EACJ,IAAI,SAAUC,EAAK,CAClB,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA;AAAA,4CAE+BE,CAAa;AAAA,wCACjBD,CAAY,UAAUE,CAAI,kBAAkBD,CAAa;AAAA;AAAA;AAAA;AAAA,+CAIlDE,CAAK;AAAA,+CACLC,CAAK;AAAA,qDACCC,CAAQ;AAAA,uDACNC,CAAS;AAAA;AAAA;AAAA,gBAIhE,CAAK,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,GAAe,CAC7BX,EAAQ,UAAY,EACtB,CAEO,SAASY,GAAa,CAC3Bb,EAAO,UAAU,IAAI,UAAU,CACjC,CAEO,SAASc,GAAa,CAC3Bd,EAAO,UAAU,OAAO,UAAU,CACpC,CC5BA,MAAMe,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,oBAAoB,EACvDf,EAAU,SAAS,cAAc,UAAU,EAEjD,IAAIgB,EAAW,IAAIC,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,GAChB,CAAC,EAIDH,EAAK,iBAAiB,QAASI,GAAO,CACpC,MAAMC,EAAaD,EAAI,OAAO,MAAM,KAAI,EACxCH,EAAU,SAAW,CAACI,EACjBA,GACHC,EAAS,KAAK,CACZ,QAAS,iDACT,SAAU,WACV,gBAAiB,oBACvB,CAAK,CAEL,CAAC,EAIDN,EAAK,iBAAiB,SAAUI,GAAO,CACrCA,EAAI,eAAc,EAClBN,IACA,MAAMO,EAAa,SAChB,cAAc,2BAA2B,EACzC,MAAM,KAAI,EACb,GAAI,CAACA,EACH,OAGFR,IAEA,SAASU,EAAWC,EAAU,CAC5B,GAAIA,EAAS,KAAK,KAAK,SAAW,EAAG,CACnCF,EAAS,KAAK,CACZ,QACE,2EACF,SAAU,WACV,gBAAiB,oBACzB,CAAO,EAEDP,IAEA,MACD,CAED,MAAMU,EAAStB,EAAcqB,EAAS,KAAK,IAAI,EAC/CtB,EAAQ,mBAAmB,aAAcuB,CAAM,EAE/CP,EAAS,QAAO,EAChBH,GACD,CAEDjB,EAAiBuB,CAAU,EACxB,KAAKE,CAAU,EAEf,MAAMG,GAAO,CACZ,MAAM,wBAAwB,EAC9B,QAAQ,MAAMA,CAAG,CACvB,CAAK,EAEHN,EAAI,OAAO,QACXH,EAAU,SAAW,EACvB,CAAC"}